<!DOCTYPE html>
<html lang="en">

<%- include("./partials2/head.ejs") %> 

<body id="page-top">
<script>
    $(document).ready(function() {
        $('#dataTable').dataTable({
          order: [[0, 'desc']],
        });
    });
</script>
    <!-- Page Wrapper -->
    <div id="wrapper">

        <%- include("./partials2/sidebar.ejs") %> 

        <!-- Content Wrapper -->
        <div id="content-wrapper" class="d-flex flex-column">

            <!-- Main Content -->
            <div id="content">

                <%- include("./partials2/topbar.ejs") %> 

                <!-- Begin Page Content -->
                <div class="container">
                    <!-- Page Heading -->
                    <div class="container border-warning border-start border-1 mb-3">
                        <h1 class="h3">My Orders</h1>
                    </div>

                  
                    <!-- DataTales Example -->
                    <div class="card shadow mb-4">
                      <div class="card-body">
                          <div class="table-responsive">
                              <table class="table" id="dataTable" width="100%" cellspacing="0">
                                  <thead>
                                      <tr>
                                          <th>ID</th>
                                          <th>Date Ordered</th>
                                          <th>Payment Method</th>
                                          <th>Amount</th>
                                          <th>Status</th>
                                          <th>Actions</th>
                                      </tr>
                                  </thead>
                                  <tbody>

                                    <% if (userPlacedOrders != "") { %>
                                      <% userPlacedOrders.forEach(element => { %>
                                        <tr>
                                          <td><%= element.place_orderid %></td>
                                          <td><%= element.PO_date.getDate()  + "/" + (element.PO_date.getMonth()+1) + "/" + element.PO_date.getFullYear() %></td>
                                          <td><%= element.p_method %></td>
                                          <td><%= element.totalprice.toFixed(2) %></td>
                                          <td class="text-warning"><%= element.PO_status %></td>
                                          <td>
                                            <a href="" class="btn btn-success">View</a>
                                            <a href="" class="btn btn-danger">Cancel</a>  
                                          </td>
                                        </tr>
                                      <% }) %>
                                      
                                    <% } %>
                                    

                                  </tbody>
                              </table>
                          </div>
                      </div>
                    </div>
                     

                  

                </div>
                <!-- /.container-fluid -->


              
                <script>
                  $(document).ready(function() {
                    $("#viewOrderModal").modal("show");
                  });
                  function hideModal(){
                    $("#viewOrderModal").modal("hide");
                  }
                </script>
                
                <!-- Modal -->
                <div class="modal fade" onclick="hideModal()" id="viewOrderModal" role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                          <div class="col-6">
                            <h5 class="modal-title" id="modalTitleId">Order Details</h5>
                          </div>
                          <div class="col-6 text-end">
                            Status: <span class="bg-warning p-1">Pending</span>
                          </div>
                        </div>
                      <div class="modal-body">
                        <div class="container-fluid">
                          <div class="row">
                            <div class="col-12 text-end">
                              <span>Date Ordered: <span>12-20-2022 18:21</span></span>
                            </div>
                          </div>
                          <div class="row">
                            <div class="col">
                              <div class="card text-start p-3">
                                <div class="container">
                                  <div class="row">
                                    <div class="col-3">
                                      <img src="/images/parts/clutch_lining.jpg" class="img-fluid" alt="">
                                    </div>
                                    <div class="col-7">
                                      <div class="row">
                                        <h4>Title</h4>
                                      </div>
                                      <div class="row">
                                        <span>Pre Order</span>
                                      </div>
                                      <div class="row">
                                        <span>x1</span>
                                      </div>
                                    </div>
                                    <div class="col-2 d-flex align-items-center justify-content-center">
                                      <span>₱ 1000.00</span>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          
                        </div>
                      </div>
                      <div class="container bg-light">
                        <div class="row">
                          <div class="col-6">

                          </div>
                          <div class="col-6">
                            
                            <div class="row">
                              <div class="col-6  pt-3 text-end">
                                Total Payment: 
                              </div>
                              <div class="col-6 bg-warning  pt-3 text-center">
                                <p>
                                  ₱ 1000.00
                                </p>
                              </div>
                            </div>
                            
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
              
                

            </div>

            <!-- End of Main Content -->

            <%- include("./partials2/footer.ejs") %> 
            

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <%- include("./partials2/scripts.ejs") %> 

</body>

</html>